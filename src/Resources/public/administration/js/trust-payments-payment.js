(this.webpackJsonp=this.webpackJsonp||[]).push([["trust-payments-payment"],{"0ehO":function(t){t.exports=JSON.parse('{"trustpayments-order":{"buttons":{"label":{"completion":"Complete","download-invoice":"Download Invoice","download-packing-slip":"Download Packing Slip","refund":"Create a new refund","void":"Cancel authorization","refund-whole-line-item":"Refund whole line item","refund-line-item-by-quantity":"Refund by quantity"}},"captureAction":{"button":{"text":"Capture payment"},"currentAmount":"Amount","isFinal":"This is final capture","maxAmount":"Maximum amount","successMessage":"Your capture was successful.","successTitle":"Success"},"general":{"title":"Orders"},"header":"TrustPayments Payment","lineItem":{"cardTitle":"Line Items","types":{"amountIncludingTax":"Amount","name":"Name","quantity":"Quantity","taxAmount":"Taxes","type":"Type","uniqueId":"Unique ID"}},"modal":{"title":{"capture":"Capture","refund":"New refund","void":"Cancel authorization"}},"paymentDetails":{"cardTitle":"Payment","error":{"title":"Error fetching payment details from TrustPayments"}},"refund":{"cardTitle":"Refunds","refundAmount":{"label":"Refund Amount"},"refundQuantity":{"label":"Refund Quantity"},"types":{"amount":"Amount","createdOn":"Created On","id":"ID","state":"State"}},"refundAction":{"confirmButton":{"text":"Execute"},"refundAmount":{"label":"Amount","placeholder":"Enter a amount"},"successMessage":"Your refund was successful.","successTitle":"Success","maxAvailableItemsToRefund":"Maximum available items to refund"},"transactionHistory":{"cardTitle":"Details","types":{"authorized_amount":"Authorized Amount","currency":"Currency","customer":"Customer","payment_method":"Payment Method","state":"State","transaction":"Transaction"}},"voidAction":{"confirm":{"button":{"cancel":"No","confirm":"Cancel authorization"},"message":"Do you really want to cancel this payment?"},"successMessage":"The payment was successfully voided.","successTitle":"Success"}}}')},"3bUJ":function(t,e){t.exports='<sw-card class="sw-card"\n\t\t :title="$tc(\'trustpayments-settings.settingForm.storefrontOptions.cardTitle\')">\n\t<sw-container>\n\t\t<div v-if="actualConfigData" class="trustpayments-settings-storefront-options-fields">\n\t\t\t<sw-inherit-wrapper\n\t\t\t\t\tv-model="actualConfigData[CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]"\n\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]"\n\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t<template #content="props">\n\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t:name="CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED"\n\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.storefrontOptions.invoiceDownloadEnabled.label\')"\n\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.storefrontOptions.invoiceDownloadEnabled.tooltipText\')"\n\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t</sw-switch-field>\n\t\t\t\t</template>\n\t\t\t</sw-inherit-wrapper>\n\t\t</div>\n\t</sw-container>\n</sw-card>\n\n'},"7l6i":function(t,e){t.exports='{% block trustpayments_settings %}\n<sw-page class="trustpayments-settings">\n\n\t{% block trustpayments_settings_header %}\n\t<template #smart-bar-header>\n\t\t<h2>\n\t\t\t{{ $tc(\'sw-settings.index.title\') }}\n\t\t\t<sw-icon name="small-arrow-medium-right" small></sw-icon>\n\t\t\t{{ $tc(\'trustpayments-settings.header\') }}\n\t\t</h2>\n\t</template>\n\t{% endblock %}\n\n\t{% block trustpayments_settings_actions %}\n\t<template #smart-bar-actions>\n\t\t{% block trustpayments_settings_actions_save %}\n\t\t<sw-button-process\n\t\t\t\tv-model="isSaveSuccessful"\n\t\t\t\tclass="sw-settings-login-registration__save-action"\n\t\t\t\tvariant="primary"\n\t\t\t\t:isLoading="isLoading"\n\t\t\t\t:disabled="isLoading"\n\t\t\t\t@click="onSave">\n\t\t\t{{ $tc(\'trustpayments-settings.settingForm.save\') }}\n\t\t</sw-button-process>\n\t\t{% endblock %}\n\t</template>\n\t{% endblock %}\n\n\t{% block trustpayments_settings_content %}\n\t<template #content>\n\n\t\t{% block trustpayments_settings_content_card %}\n\t\t<sw-card-view>\n\n\t\t\t{% block trustpayments_settings_content_card_channel_config %}\n\t\t\t<sw-sales-channel-config v-model="config"\n\t\t\t\t\t\t\t\t\t ref="configComponent"\n\t\t\t\t\t\t\t\t\t :domain="CONFIG_DOMAIN">\n\n\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel %}\n\t\t\t\t<template #select="{ onInput, selectedSalesChannelId, salesChannel }">\n\n\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card %}\n\t\t\t\t\t<sw-card title="Sales Channel Switch">\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card_title %}\n\t\t\t\t\t\t<sw-single-select\n\t\t\t\t\t\t\t\tv-model="selectedSalesChannelId"\n\t\t\t\t\t\t\t\tlabelProperty="translated.name"\n\t\t\t\t\t\t\t\tvalueProperty="id"\n\t\t\t\t\t\t\t\t:options="salesChannel"\n\t\t\t\t\t\t\t\t:disabled="isShowcase"\n\t\t\t\t\t\t\t\t@change="onInput">\n\t\t\t\t\t\t</sw-single-select>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card_footer %}\n\t\t\t\t\t\t<template #footer>\n\n\t\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card_footer_container %}\n\t\t\t\t\t\t\t<sw-container columns="2fr 1fr" gap="0px 30px">\n\n\t\t\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card_footer_container_text %}\n\t\t\t\t\t\t\t\t<p>{{ $tc(\'trustpayments-settings.salesChannelCard.button.description\') }}</p>\n\t\t\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_sales_channel_card_footer_container_button %}\n\t\t\t\t\t\t\t\t<sw-button-process\n\t\t\t\t\t\t\t\t\t\tv-model="isSetDefaultPaymentSuccessful"\n\t\t\t\t\t\t\t\t\t\t:isLoading="isSettingDefaultPaymentMethods"\n\t\t\t\t\t\t\t\t\t\t@click="onSetPaymentMethodDefault">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'trustpayments-settings.salesChannelCard.button.label\') }}\n\t\t\t\t\t\t\t\t</sw-button-process>\n\t\t\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t\t</sw-container>\n\t\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</sw-card>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</template>\n\t\t\t\t{% endblock %}\n\n\t\t\t\t{% block trustpayments_settings_content_card_channel_config_cards %}\n\t\t\t\t<template #content="{ actualConfigData, allConfigs, selectedSalesChannelId }">\n\t\t\t\t\t<div v-if="actualConfigData">\n\n\t\t\t\t\t\t<sw-trustpayments-credentials\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t\t\t:spaceIdErrorState="spaceIdErrorState"\n\t\t\t\t\t\t\t\t:userIdErrorState="userIdErrorState"\n\t\t\t\t\t\t\t\t:applicationKeyErrorState="applicationKeyErrorState"\n\t\t\t\t\t\t\t\t:spaceIdFilled="spaceIdFilled"\n\t\t\t\t\t\t\t\t:userIdFilled="userIdFilled"\n\t\t\t\t\t\t\t\t:applicationKeyFilled="applicationKeyFilled"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:isShowcase="isShowcase"\n\t\t\t\t\t\t></sw-trustpayments-credentials>\n\n\t\t\t\t\t\t<sw-trustpayments-options\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</sw-trustpayments-options>\n\n\t\t\t\t\t\t<sw-trustpayments-storefront-options\n\t\t\t\t\t\t\t\t:actualConfigData="actualConfigData"\n\t\t\t\t\t\t\t\t:allConfigs="allConfigs"\n\t\t\t\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t\t\t\t:selectedSalesChannelId="selectedSalesChannelId"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</sw-trustpayments-storefront-options>\n\n\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t{% endblock %}\n\n\t\t\t</sw-sales-channel-config>\n\t\t\t{% endblock %}\n\n\t\t\t{% block trustpayments_settings_content_card_loading %}\n\t\t\t<sw-loader v-if="isLoading"></sw-loader>\n\t\t\t{% endblock %}\n\t\t</sw-card-view>\n\t\t{% endblock %}\n\n\t</template>\n\t{% endblock %}\n</sw-page>\n{% endblock %}'},"7nk/":function(t,e){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"trustpayments",key:"trustpayments",roles:{viewer:{privileges:["sales_channel:read","sales_channel_payment_method:read","system_config:read"],dependencies:[]},editor:{privileges:["sales_channel:update","sales_channel_payment_method:create","sales_channel_payment_method:update","system_config:update","system_config:create","system_config:delete"],dependencies:["trustpayments.viewer"]}}}),Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"sales_channel",roles:{viewer:{privileges:["sales_channel_payment_method:read"]},editor:{privileges:["payment_method:update"]},creator:{privileges:["payment_method:create","shipping_method:create","delivery_time:create"]},deleter:{privileges:["payment_method:delete"]}}})},AH02:function(t,e){t.exports='{% block trustpayments_order_action_void %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`trustpayments-order.modal.title.void`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block trustpayments_order_action_void_amount %}\n\t\t<sw-checkbox-field\n\t\t\t\t:label="$tc(\'trustpayments-order.voidAction.confirm.message\')"\n\t\t\t\tv-model="isVoid"></sw-checkbox-field>\n\t{% endblock %}\n\n\t{% block trustpayments_order_action_void_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary"\n\t\t\t\t   @click="voidPayment">\n\t\t\t{{ $tc(\'trustpayments-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n'},AjL6:function(t,e){t.exports='{% block trustpayments_order_detail %}\n<div class="trustpayments-order-detail">\n\t<div v-if="!isLoading">\n\t\t<sw-card :title="$tc(\'trustpayments-order.paymentDetails.cardTitle\')">\n\t\t\t<template #grid>\n\t\t\t\t{% block trustpayments_order_actions_section %}\n\t\t\t\t<sw-card-section secondary slim>\n\t\t\t\t\t{% block trustpayments_order_transaction_completion_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'AUTHORIZED\'"\n\t\t\t\t\t\t\t@click="spawnModal(\'completion\')">\n\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.completion\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block trustpayments_order_transaction_void_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t:disabled="transaction.state != \'AUTHORIZED\'"\n\t\t\t\t\t\t\t@click="spawnModal(\'void\')">\n\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.void\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block trustpayments_order_transaction_download_invoice_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t@click="downloadInvoice()">\n\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.download-invoice\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t\t{% block trustpayments_order_transaction_download_packing_slip_action_button %}\n\t\t\t\t\t<sw-button\n\t\t\t\t\t\t\tvariant="primary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t@click="downloadPackingSlip()">\n\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.download-packing-slip\') }}\n\t\t\t\t\t</sw-button>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</sw-card-section>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\t\t</sw-card>\n\t\t{% block trustpayments_order_transaction_history_card %}\n\t\t<sw-card :title="$tc(\'trustpayments-order.transactionHistory.cardTitle\')">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block trustpayments_order_transaction_history_grid %}\n\t\t\t\t<sw-data-grid :dataSource="transactionData.transactions"\n\t\t\t\t\t\t\t  :columns="relatedResourceColumns"\n\t\t\t\t\t\t\t  :showActions="false"\n\t\t\t\t\t\t\t  :showSelection="false">\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block trustpayments_order_transaction_line_items_card %}\n\t\t<sw-card :title="$tc(\'trustpayments-order.lineItem.cardTitle\')">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block trustpayments_order_transaction_line_items_grid %}\n\t\t\t\t<sw-data-grid\n\t\t\t\t\t\t:dataSource="lineItems"\n\t\t\t\t\t\t:columns="lineItemColumns"\n\t\t\t\t\t\t:showActions="true"\n\t\t\t\t\t\t:showSelection="false">\n\n\t\t\t\t\t{% block trustpayments_order_transaction_line_items_grid_grid_actions %}\n\t\t\t\t\t\t<template #actions="{ item }">\n\t\t\t\t\t\t\t\t<sw-context-menu-item\n\t\t\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\' || item.refundableQuantity != item.quantity"\n\t\t\t\t\t\t\t\t    icon="default-money-cash"\n\t\t\t\t\t\t\t\t    @click="lineItemRefund(item.uniqueId)">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.refund-whole-line-item\') }}\n\t\t\t\t\t\t\t\t</sw-context-menu-item>\n\n\t\t\t\t\t\t\t\t<sw-context-menu-item\n\t\t\t\t\t\t\t\t\t\t:disabled="transaction.state != \'FULFILL\' || item.refundableQuantity == 0"\n\t\t\t\t\t\t\t\t\t\ticon="default-money-cash"\n\t\t\t\t\t\t\t\t\t\t@click="spawnModal(\'refund\', item.uniqueId, item.refundableQuantity)">\n\t\t\t\t\t\t\t\t\t{{ $tc(\'trustpayments-order.buttons.label.refund-line-item-by-quantity\') }}\n\t\t\t\t\t\t\t\t</sw-context-menu-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t{% endblock %}\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block trustpayments_order_transaction_refunds_card %}\n\t\t<sw-card :title="$tc(\'trustpayments-order.refund.cardTitle\')" v-if="transactionData.refunds.length > 0">\n\t\t\t<template #grid>\n\n\t\t\t\t{% block trustpayments_order_transaction_refunds_grid %}\n\t\t\t\t<sw-data-grid\n\t\t\t\t\t\t:dataSource="transactionData.refunds"\n\t\t\t\t\t\t:columns="refundColumns"\n\t\t\t\t\t\t:showActions="false"\n\t\t\t\t\t\t:showSelection="false">\n\t\t\t\t</sw-data-grid>\n\t\t\t\t{% endblock %}\n\t\t\t</template>\n\n\t\t</sw-card>\n\t\t{% endblock %}\n\t\t{% block trustpayments_order_actions_modal_refund %}\n\t\t<trustpayments-order-action-refund\n\t\t\t\tv-if="modalType === \'refund\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</trustpayments-order-action-refund>\n\t\t{% endblock %}\n\t\t{% block trustpayments_order_actions_modal_completion%}\n\t\t<trustpayments-order-action-completion\n\t\t\t\tv-if="modalType === \'completion\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</trustpayments-order-action-completion>\n\t\t{% endblock %}\n\t\t{% block trustpayments_order_actions_modal_void %}\n\t\t<trustpayments-order-action-void\n\t\t\t\tv-if="modalType === \'void\'"\n\t\t\t\t:orderId="orderId"\n\t\t\t\t:transactionData="transactionData"\n\t\t\t\t:lineItems="lineItems"\n\t\t\t\t@modal-close="closeModal">\n\t\t</trustpayments-order-action-void>\n\t\t{% endblock %}\n\t</div>\n\t<sw-loader v-if="isLoading"></sw-loader>\n</div>\n{% endblock %}\n'},Cfc9:function(t,e){t.exports='{% block trustpayments_settings_content_card_channel_config_options %}\n\t<sw-card class="sw-card"\n\t\t\t :title="$tc(\'trustpayments-settings.settingForm.options.cardTitle\')">\n\n\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container %}\n\t\t\t<sw-container>\n\n\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings %}\n\t\t\t\t\t<div v-if="actualConfigData" class="trustpayments-settings-options-fields">\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_space_view_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_SPACE_VIEW_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_SPACE_VIEW_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_SPACE_VIEW_ID"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.options.spaceViewId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.options.spaceViewId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_integration %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_INTEGRATION]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_INTEGRATION]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-single-select\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_INTEGRATION"\n\t\t\t\t\t\t\t\t\t\t\tlabelProperty="name"\n\t\t\t\t\t\t\t\t\t\t\tvalueProperty="id"\n\t\t\t\t\t\t\t\t\t\t\t:options="integrationOptions"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.options.integration.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.options.integration.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-single-select>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_line_item_consistency_enabled %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_LINE_ITEM_CONSISTENCY_ENABLED"\n\t\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.options.lineItemConsistencyEnabled.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.options.lineItemConsistencyEnabled.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-switch-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_email_enabled %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_EMAIL_ENABLED]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId == null ? null : allConfigs[\'null\'][CONFIG_EMAIL_ENABLED]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkBoolFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-switch-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_EMAIL_ENABLED"\n\t\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.options.emailEnabled.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.options.emailEnabled.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-switch-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</div>\n\t\t\t\t{% endblock %}\n\t\t\t</sw-container>\n\t\t{% endblock %}\n\t</sw-card>\n\n{% endblock %}\n'},E7bf:function(t,e){t.exports='{% block trustpayments_settings_icon %}\n    <span class="sw-icon icon--trustpayments-multicolor sw-icon--multicolor">\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" contentScriptType="text/ecmascript" zoomAndPan="magnify" contentStyleType="text/css" id="svg2" sodipodi:docname="favicon.svg" version="1.1" width="11.060362mm" preserveAspectRatio="xMidYMid meet" inkscape:version="0.91 r13725" viewBox="0 0 39.190259 41.490075" height="11.709421mm">\n  <defs id="defs4"/>\n  <sodipodi:namedview fit-margin-left="0" bordercolor="#666666" inkscape:window-height="1503" inkscape:zoom="15.839192" id="base" fit-margin-top="0" inkscape:current-layer="layer1" inkscape:window-y="27" inkscape:cy="25.310826" inkscape:window-x="0" inkscape:cx="30.849409" fit-margin-bottom="0" showgrid="false" fit-margin-right="0" inkscape:pageopacity="0.0" inkscape:document-units="px" inkscape:pageshadow="2" inkscape:window-width="2560" inkscape:window-maximized="1" borderopacity="1.0" pagecolor="#ffffff"/>\n  <metadata id="metadata7">\n    <rdf:RDF>\n      <cc:Work rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>\n        <dc:title/>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g inkscape:groupmode="layer" id="layer1" transform="translate(-478.66256,-624.64965)" inkscape:label="Layer 1">\n    <path inkscape:connector-curvature="0" d="" id="path4149" style="fill:#000000"/>\n    <path inkscape:connector-curvature="0" d="" id="path4147" style="fill:#000000"/>\n    <path id="path4955" d="M 19.595703 4.2792969 A 17.604696 17.604696 0 0 0 1.9902344 21.882812 A 17.604696 17.604696 0 0 0 19.595703 39.488281 A 17.604696 17.604696 0 0 0 37.199219 21.882812 A 17.604696 17.604696 0 0 0 34.253906 12.177734 L 33.330078 15.708984 L 33.283203 15.691406 A 14.995509 14.995509 0 0 1 34.589844 21.757812 A 14.995509 14.995509 0 0 1 24.839844 35.796875 L 30.701172 17.785156 L 30.691406 17.783203 L 31.574219 15.068359 L 31.566406 15.066406 L 32.8125 10.296875 A 17.604696 17.604696 0 0 0 29.824219 7.6113281 L 28.882812 10.541016 L 28.865234 10.539062 L 22.537109 29.990234 L 22.546875 29.992188 L 20.355469 36.726562 A 14.995509 14.995509 0 0 1 19.595703 36.753906 A 14.995509 14.995509 0 0 1 17.207031 36.544922 L 25.794922 10.125 L 25.787109 10.123047 L 27.113281 6.0019531 A 17.604696 17.604696 0 0 0 23.332031 4.703125 L 22.394531 7.5527344 L 13.351562 35.375 A 14.995509 14.995509 0 0 1 4.5996094 21.757812 A 14.995509 14.995509 0 0 1 19.595703 6.7617188 A 14.995509 14.995509 0 0 1 19.980469 6.78125 L 20.789062 4.3222656 A 17.604696 17.604696 0 0 0 19.595703 4.2792969 z " style="opacity:1;fill:#e71b5a;fill-opacity:1;stroke:#cc0000;stroke-width:3.98086762;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0" transform="translate(478.66256,624.64965)"/>\n  </g>\n</svg>\n\n    </span>\n{% endblock %}\n'},FiF2:function(t){t.exports=JSON.parse('{"trustpayments-order":{"buttons":{"label":{"completion":"Abschluss","download-invoice":"Rechnung herunterladen","download-packing-slip":"Packzettel herunterladen","refund":"Eine neue Rückerstattung erstellen","void":"Genehmigung annullieren","refund-whole-line-item":"Gesamte Werbebuchung erstatten","refund-line-item-by-quantity":"Rückerstattung nach Menge"}},"captureAction":{"button":{"text":"Zahlung erfassen"},"currentAmount":"Betrag","isFinal":"Dies ist die endgültige Verbuchung","maxAmount":"Maximaler Betrag","successMessage":"Ihre Verbuchung war erfolgreich","successTitle":"Erfolg"},"general":{"title":"Bestellungen"},"header":"TrustPayments Payment","lineItem":{"cardTitle":"Einzelposten","types":{"amountIncludingTax":"Betrag","name":"Name","quantity":"Anzahl","taxAmount":"Steuern","type":"Typ","uniqueId":"Eindeutige ID"}},"modal":{"title":{"capture":"Erfassen","refund":"Neue Gutschrift","void":"Autorisierung aufheben"}},"paymentDetails":{"cardTitle":"Zahlung","error":{"title":"Fehler beim Abrufen von Zahlungsdetails von TrustPayments"}},"refund":{"cardTitle":"Gutschriften","refundAmount":{"label":"Gutschriftsbetrag"},"refundQuantity":{"label":"Refund Menge"},"types":{"amount":"Betrag","createdOn":"Erstellt am","id":"ID","state":"Staat"}},"refundAction":{"confirmButton":{"text":"Ausführen"},"refundAmount":{"label":"Betrag","placeholder":"Einen Betrag eingeben"},"successMessage":"Ihre Rückerstattung war erfolgreich","successTitle":"Erfolg","maxAvailableItemsToRefund":"Maximal Verfügbare Artikel zum Erstatten"},"transactionHistory":{"cardTitle":"Einzelheiten","types":{"authorized_amount":"Autorisierter Betrag","currency":"Währung","customer":"Kunde","payment_method":"Zahlungsweise","state":"Staat","transaction":"Transaktion"}},"voidAction":{"confirm":{"button":{"cancel":"Nein","confirm":"Autorisierung aufheben"},"message":"Wollen Sie diese Zahlung wirklich stornieren?"},"successMessage":"Die Zahlung wurde erfolgreich annulliert","successTitle":"Erfolg"}}}')},G830:function(t,e){t.exports='{% block trustpayments_order_action_refund %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`trustpayments-order.modal.title.refund`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block trustpayments_order_action_refund_amount %}\n\n\t\t<sw-number-field v-model="refundQuantity"\n\t\t\t\t\t\t :max="this.$parent.refundableQuantity"\n\t\t\t\t\t\t :min="1"\n\t\t\t\t\t\t :label="$tc(\'trustpayments-order.refund.refundQuantity.label\')">\n\t\t</sw-number-field>\n\n\t\t<div>\n\t\t\t{{ $tc(\'trustpayments-order.refundAction.maxAvailableItemsToRefund\') }}:\n\t\t\t<b>{{ this.$parent.refundableQuantity }}</b>\n\t\t</div>\n\t{% endblock %}\n\n\t{% block trustpayments_order_action_refund_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary" @click="refund()">\n\t\t\t{{ $tc(\'trustpayments-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n'},OEWY:function(t,e,n){"use strict";n.r(e);var a=n("n4+1"),r=n.n(a),i=(n("mkIE"),Shopware),o=i.Component,s=i.Context,c=Shopware.Data.Criteria;o.override("sw-order-detail",{template:r.a,data:function(){return{isTrustPaymentsPayment:!1}},computed:{isEditable:function(){return!this.isTrustPaymentsPayment||"trustpayments.order.detail"!==this.$route.name},showTabs:function(){return!0}},watch:{orderId:{deep:!0,handler:function(){var t=this;if(this.orderId){var e=this.repositoryFactory.create("order"),n=new c(1,1);n.addAssociation("transactions"),e.get(this.orderId,s.api,n).then((function(e){if(e.amountTotal<=0||e.transactions.length<=0||!e.transactions[0].paymentMethodId)t.setIsTrustPaymentsPayment(null);else{var n=e.transactions[0].paymentMethodId;null!=n&&t.setIsTrustPaymentsPayment(n)}}))}else this.setIsTrustPaymentsPayment(null)},immediate:!0}},methods:{setIsTrustPaymentsPayment:function(t){var e=this;t&&this.repositoryFactory.create("payment_method").get(t,s.api).then((function(t){e.isTrustPaymentsPayment="handler_trustpaymentspayment_trustpaymentspaymenthandler"===t.formattedHandlerIdentifier}))}}});var l=n("PK50"),u=n.n(l),d=Shopware,p=d.Component,m=d.Mixin,f=d.Filter,h=d.Utils;p.register("trustpayments-order-action-completion",{template:u.a,inject:["TrustPaymentsTransactionCompletionService"],mixins:[m.getByName("notification")],props:{transactionData:{type:Object,required:!0}},data:function(){return{isLoading:!0,isCompletion:!1}},computed:{dateFilter:function(){return f.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1},completion:function(){var t=this;this.isCompletion&&(this.isLoading=!0,this.TrustPaymentsTransactionCompletionService.createTransactionCompletion(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id).then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-order.captureAction.successTitle"),message:t.$tc("trustpayments-order.captureAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(h.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(h.createId()))}))}})))}}});var y=n("G830"),g=n.n(y),_=Shopware,b=_.Component,I=_.Mixin,w=_.Filter,v=_.Utils;b.register("trustpayments-order-action-refund",{template:g.a,inject:["TrustPaymentsRefundService"],mixins:[I.getByName("notification")],props:{transactionData:{type:Object,required:!0},orderId:{type:String,required:!0}},data:function(){return{refundQuantity:1,transactionData:{},isLoading:!0,currentLineItem:""}},computed:{dateFilter:function(){return w.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1},refund:function(){var t=this;this.isLoading=!0,this.TrustPaymentsRefundService.createRefund(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id,this.refundQuantity,this.$parent.currentLineItem).then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-order.refundAction.successTitle"),message:t.$tc("trustpayments-order.refundAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(v.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(v.createId()))}))}}))}}});var C=n("AH02"),O=n.n(C),S=Shopware,E=S.Component,k=S.Mixin,T=S.Filter,D=S.Utils;E.register("trustpayments-order-action-void",{template:O.a,inject:["TrustPaymentsTransactionVoidService"],mixins:[k.getByName("notification")],props:{transactionData:{type:Object,required:!0}},data:function(){return{isLoading:!0,isVoid:!1}},computed:{dateFilter:function(){return T.getByName("date")},lineItemColumns:function(){return[{property:"uniqueId",label:this.$tc("trustpayments-order.refund.types.uniqueId"),rawData:!1,allowResize:!0,primary:!0,width:"auto"},{property:"name",label:this.$tc("trustpayments-order.refund.types.name"),rawData:!0,allowResize:!0,sortable:!0,width:"auto"},{property:"quantity",label:this.$tc("trustpayments-order.refund.types.quantity"),rawData:!0,allowResize:!0,width:"auto"},{property:"amountIncludingTax",label:this.$tc("trustpayments-order.refund.types.amountIncludingTax"),rawData:!0,allowResize:!0,inlineEdit:"string",width:"auto"},{property:"type",label:this.$tc("trustpayments-order.refund.types.type"),rawData:!0,allowResize:!0,sortable:!0,width:"auto"},{property:"taxAmount",label:this.$tc("trustpayments-order.refund.types.taxAmount"),rawData:!0,allowResize:!0,width:"auto"}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isLoading=!1,this.currency=this.transactionData.transactions[0].currency,this.refundableAmount=this.transactionData.transactions[0].amountIncludingTax,this.refundAmount=this.transactionData.transactions[0].amountIncludingTax},voidPayment:function(){var t=this;this.isVoid&&(this.isLoading=!0,this.TrustPaymentsTransactionVoidService.createTransactionVoid(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id).then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-order.voidAction.successTitle"),message:t.$tc("trustpayments-order.voidAction.successMessage")}),t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(D.createId()))}))})).catch((function(e){try{t.createNotificationError({title:e.response.data.errors[0].title,message:e.response.data.errors[0].detail,autoClose:!1})}catch(n){t.createNotificationError({title:e.title,message:e.message,autoClose:!1})}finally{t.isLoading=!1,t.$emit("modal-close"),t.$nextTick((function(){t.$router.replace("".concat(t.$route.path,"?hash=").concat(D.createId()))}))}})))}}});var P=n("AjL6"),N=n.n(P),A=(n("twVN"),Shopware),F=A.Component,x=A.Mixin,L=A.Filter,$=A.Context,R=A.Utils,j=Shopware.Data.Criteria;F.register("trustpayments-order-detail",{template:N.a,inject:["TrustPaymentsTransactionService","TrustPaymentsRefundService","repositoryFactory"],mixins:[x.getByName("notification")],data:function(){return{transactionData:{transactions:[],refunds:[]},transaction:{},lineItems:[],refundableQuantity:0,isLoading:!0,orderId:"",currency:"",modalType:"",currentLineItem:"",refundLineItem:[]}},metaInfo:function(){return{title:this.$tc("trustpayments-order.header")}},computed:{dateFilter:function(){return L.getByName("date")},relatedResourceColumns:function(){return[{property:"paymentConnectorConfiguration.name",label:this.$tc("trustpayments-order.transactionHistory.types.payment_method"),rawData:!0},{property:"state",label:this.$tc("trustpayments-order.transactionHistory.types.state"),rawData:!0},{property:"currency",label:this.$tc("trustpayments-order.transactionHistory.types.currency"),rawData:!0},{property:"authorized_amount",label:this.$tc("trustpayments-order.transactionHistory.types.authorized_amount"),rawData:!0},{property:"id",label:this.$tc("trustpayments-order.transactionHistory.types.transaction"),rawData:!0},{property:"customerId",label:this.$tc("trustpayments-order.transactionHistory.types.customer"),rawData:!0}]},lineItemColumns:function(){return[{property:"uniqueId",label:this.$tc("trustpayments-order.lineItem.types.uniqueId"),rawData:!0,visible:!1,primary:!0},{property:"name",label:this.$tc("trustpayments-order.lineItem.types.name"),rawData:!0},{property:"quantity",label:this.$tc("trustpayments-order.lineItem.types.quantity"),rawData:!0},{property:"amountIncludingTax",label:this.$tc("trustpayments-order.lineItem.types.amountIncludingTax"),rawData:!0},{property:"type",label:this.$tc("trustpayments-order.lineItem.types.type"),rawData:!0},{property:"taxAmount",label:this.$tc("trustpayments-order.lineItem.types.taxAmount"),rawData:!0},{property:"refundableQuantity",rawData:!0,visible:!1}]},refundColumns:function(){return[{property:"id",label:this.$tc("trustpayments-order.refund.types.id"),rawData:!0,visible:!0,primary:!0},{property:"amount",label:this.$tc("trustpayments-order.refund.types.amount"),rawData:!0},{property:"state",label:this.$tc("trustpayments-order.refund.types.state"),rawData:!0},{property:"createdOn",label:this.$tc("trustpayments-order.refund.types.createdOn"),rawData:!0}]}},watch:{$route:function(){this.resetDataAttributes(),this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var t=this;this.orderId=this.$route.params.id;var e=this.repositoryFactory.create("order"),n=new j(1,1);n.addAssociation("transactions"),n.getAssociation("transactions").addSorting(j.sort("createdAt","DESC")),e.get(this.orderId,$.api,n).then((function(e){t.order=e,t.isLoading=!1;var n=e.transactions[0].customFields.trustpayments_transaction_id;t.TrustPaymentsTransactionService.getTransactionData(e.salesChannelId,n).then((function(e){t.currency=e.transactions[0].currency,e.transactions[0].authorized_amount=R.format.currency(e.transactions[0].authorizationAmount,t.currency),e.refunds.forEach((function(e){e.amount=R.format.currency(e.amount,t.currency),e.reductions.forEach((function(e){void 0===t.refundLineItem[e.lineItemUniqueId]?t.refundLineItem[e.lineItemUniqueId]=e.quantityReduction:t.refundLineItem[e.lineItemUniqueId]+=e.quantityReduction}))})),e.transactions[0].lineItems.forEach((function(e){e.amountIncludingTax=R.format.currency(e.amountIncludingTax,t.currency),e.taxAmount=R.format.currency(e.taxAmount,t.currency),e.refundableQuantity=parseInt(parseInt(e.quantity)-parseInt(t.refundLineItem[e.uniqueId]||0))})),t.lineItems=e.transactions[0].lineItems,t.transactionData=e,t.transaction=t.transactionData.transactions[0]})).catch((function(e){try{t.createNotificationError({title:t.$tc("trustpayments-order.paymentDetails.error.title"),message:e.message,autoClose:!1})}catch(n){t.createNotificationError({title:t.$tc("trustpayments-order.paymentDetails.error.title"),message:e.message,autoClose:!1})}finally{t.isLoading=!1}}))}))},downloadPackingSlip:function(){window.open(this.TrustPaymentsTransactionService.getPackingSlip(this.transaction.metaData.salesChannelId,this.transaction.id),"_blank")},downloadInvoice:function(){window.open(this.TrustPaymentsTransactionService.getInvoiceDocument(this.transaction.metaData.salesChannelId,this.transaction.id),"_blank")},resetDataAttributes:function(){this.transactionData={transactions:[],refunds:[]},this.lineItems=[],this.refundLineItem=[],this.isLoading=!0},spawnModal:function(t,e,n){this.modalType=t,this.currentLineItem=e,this.refundableQuantity=n},closeModal:function(){this.modalType=""},lineItemRefund:function(t){var e=this;this.isLoading=!0,this.TrustPaymentsRefundService.createRefund(this.transactionData.transactions[0].metaData.salesChannelId,this.transactionData.transactions[0].id,0,t).then((function(){e.createNotificationSuccess({title:e.$tc("trustpayments-order.refundAction.successTitle"),message:e.$tc("trustpayments-order.refundAction.successMessage")}),e.isLoading=!1,e.$emit("modal-close"),e.$nextTick((function(){e.$router.replace("".concat(e.$route.path,"?hash=").concat(R.createId()))}))})).catch((function(t){try{e.createNotificationError({title:t.response.data.errors[0].title,message:t.response.data.errors[0].detail,autoClose:!1})}catch(n){e.createNotificationError({title:t.title,message:t.message,autoClose:!1})}finally{e.isLoading=!1,e.$emit("modal-close"),e.$nextTick((function(){e.$router.replace("".concat(e.$route.path,"?hash=").concat(R.createId()))}))}}))}}});var B=n("FiF2"),G=n("0ehO");Shopware.Module.register("trustpayments-order",{type:"plugin",name:"TrustPayments",title:"trustpayments-order.general.title",description:"trustpayments-order.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",snippets:{"de-DE":B,"en-GB":G},routeMiddleware:function(t,e){"sw.order.detail"===e.name&&e.children.push({component:"trustpayments-order-detail",name:"trustpayments.order.detail",isChildren:!0,path:"/sw/order/trustpayments/detail/:id"}),t(e)}});n("7nk/");var M=n("7l6i"),V=n.n(M),q="TrustPaymentsPayment.config",z={CONFIG_DOMAIN:q,CONFIG_APPLICATION_KEY:"TrustPaymentsPayment.config.applicationKey",CONFIG_EMAIL_ENABLED:"TrustPaymentsPayment.config.emailEnabled",CONFIG_INTEGRATION:"TrustPaymentsPayment.config.integration",CONFIG_LINE_ITEM_CONSISTENCY_ENABLED:"TrustPaymentsPayment.config.lineItemConsistencyEnabled",CONFIG_SPACE_ID:"TrustPaymentsPayment.config.spaceId",CONFIG_SPACE_VIEW_ID:"TrustPaymentsPayment.config.spaceViewId",CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED:"TrustPaymentsPayment.config.storefrontInvoiceDownloadEnabled",CONFIG_USER_ID:"TrustPaymentsPayment.config.userId",CONFIG_IS_SHOWCASE:"TrustPaymentsPayment.config.isShowcase"};function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=Shopware,U=W.Component,Y=W.Mixin;U.register("trustpayments-settings",{template:V.a,inject:["TrustPaymentsConfigurationService"],mixins:[Y.getByName("notification")],data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({config:{},isLoading:!1,isSaveSuccessful:!1,isShowcase:!1,applicationKeyFilled:!1,applicationKeyErrorState:!1,spaceIdFilled:!1,spaceIdErrorState:!1,userIdFilled:!1,userIdErrorState:!1,isSetDefaultPaymentSuccessful:!1,isSettingDefaultPaymentMethods:!1,configIntegrationDefaultValue:"iframe",configEmailEnabledDefaultValue:!0,configLineItemConsistencyEnabledDefaultValue:!0,configStorefrontInvoiceDownloadEnabledEnabledDefaultValue:!0},z)},props:{isLoading:{type:Boolean,required:!0}},metaInfo:function(){return{title:this.$createTitle()}},watch:{config:{handler:function(){var t=this.$refs.configComponent.allConfigs.null,e=this.$refs.configComponent.selectedSalesChannelId;this.isShowcase=this.config[this.CONFIG_IS_SHOWCASE],null===e?(this.applicationKeyFilled=!!this.config[this.CONFIG_APPLICATION_KEY],this.spaceIdFilled=!!this.config[this.CONFIG_SPACE_ID],this.userIdFilled=!!this.config[this.CONFIG_USER_ID],this.CONFIG_INTEGRATION in this.config||(this.config[this.CONFIG_INTEGRATION]=this.configIntegrationDefaultValue),this.CONFIG_EMAIL_ENABLED in this.config||(this.config[this.CONFIG_EMAIL_ENABLED]=this.configEmailEnabledDefaultValue),this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in this.config||(this.config[this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]=this.configLineItemConsistencyEnabledDefaultValue),this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in this.config||(this.config[this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]=this.configStorefrontInvoiceDownloadEnabledEnabledDefaultValue)):(this.applicationKeyFilled=!!this.config[this.CONFIG_APPLICATION_KEY]||!!t[this.CONFIG_APPLICATION_KEY],this.spaceIdFilled=!!this.config[this.CONFIG_SPACE_ID]||!!t[this.CONFIG_SPACE_ID],this.userIdFilled=!!this.config[this.CONFIG_USER_ID]||!!t[this.CONFIG_USER_ID],this.CONFIG_INTEGRATION in this.config&&this.CONFIG_INTEGRATION in t||(this.config[this.CONFIG_INTEGRATION]=this.configIntegrationDefaultValue),this.CONFIG_EMAIL_ENABLED in this.config&&this.CONFIG_EMAIL_ENABLED in t||(this.config[this.CONFIG_EMAIL_ENABLED]=this.configEmailEnabledDefaultValue),this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in this.config&&this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED in t||(this.config[this.CONFIG_LINE_ITEM_CONSISTENCY_ENABLED]=this.configLineItemConsistencyEnabledDefaultValue),this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in this.config&&this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED in t||(this.config[this.CONFIG_STOREFRONT_INVOICE_DOWNLOAD_ENABLED]=this.configStorefrontInvoiceDownloadEnabledEnabledDefaultValue))},deep:!0}},methods:{onSave:function(){this.spaceIdFilled&&this.userIdFilled&&this.applicationKeyFilled?this.save():this.setErrorStates()},save:function(){var t=this;this.isLoading=!0,this.$refs.configComponent.save().then((function(e){e&&(t.config=e),t.registerWebHooks(),t.synchronizePaymentMethodConfiguration(),t.installOrderDeliveryStates()})).catch((function(){t.isLoading=!1}))},registerWebHooks:function(){var t=this;this.TrustPaymentsConfigurationService.registerWebHooks(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-settings.settingForm.titleSuccess"),message:t.$tc("trustpayments-settings.settingForm.messageWebHookUpdated")})})).catch((function(){t.createNotificationError({title:t.$tc("trustpayments-settings.settingForm.titleError"),message:t.$tc("trustpayments-settings.settingForm.messageWebHookError")}),t.isLoading=!1}))},synchronizePaymentMethodConfiguration:function(){var t=this;this.TrustPaymentsConfigurationService.synchronizePaymentMethodConfiguration(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-settings.settingForm.titleSuccess"),message:t.$tc("trustpayments-settings.settingForm.messagePaymentMethodConfigurationUpdated")}),t.isLoading=!1})).catch((function(){t.createNotificationError({title:t.$tc("trustpayments-settings.settingForm.titleError"),message:t.$tc("trustpayments-settings.settingForm.messagePaymentMethodConfigurationError")}),t.isLoading=!1}))},installOrderDeliveryStates:function(){var t=this;this.TrustPaymentsConfigurationService.installOrderDeliveryStates().then((function(){t.createNotificationSuccess({title:t.$tc("trustpayments-settings.settingForm.titleSuccess"),message:t.$tc("trustpayments-settings.settingForm.messageOrderDeliveryStateUpdated")}),t.isLoading=!1})).catch((function(){t.createNotificationError({title:t.$tc("trustpayments-settings.settingForm.titleError"),message:t.$tc("trustpayments-settings.settingForm.messageOrderDeliveryStateError")}),t.isLoading=!1}))},onSetPaymentMethodDefault:function(){var t=this;this.isSettingDefaultPaymentMethods=!0,this.TrustPaymentsConfigurationService.setTrustPaymentsAsSalesChannelPaymentDefault(this.$refs.configComponent.selectedSalesChannelId).then((function(){t.isSettingDefaultPaymentMethods=!1,t.isSetDefaultPaymentSuccessful=!0}))},setErrorStates:function(){var t={code:1,detail:this.$tc("trustpayments-settings.messageNotBlank")};this.spaceIdFilled||(this.spaceIdErrorState=t),this.userIdFilled||(this.userIdErrorState=t),this.applicationKeyFilled||(this.applicationKeyErrorState=t)}}});var Q=n("wsG9"),Z=n.n(Q);function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tt=Shopware,et=tt.Component,nt=tt.Mixin;et.register("sw-trustpayments-credentials",{template:Z.a,name:"TrustPaymentsCredentials",mixins:[nt.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},spaceIdFilled:{type:Boolean,required:!0},spaceIdErrorState:{required:!0},userIdFilled:{type:Boolean,required:!0},userIdErrorState:{required:!0},applicationKeyFilled:{type:Boolean,required:!0},applicationKeyErrorState:{required:!0},isLoading:{type:Boolean,required:!0},isShowcase:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},z)},computed:{},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}});var at=n("Cfc9"),rt=n.n(at);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=Shopware,ct=st.Component,lt=st.Mixin;ct.register("sw-trustpayments-options",{template:rt.a,name:"TrustPaymentsOptions",mixins:[lt.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},z)},computed:{integrationOptions:function(){return[{id:"iframe",name:this.$tc("trustpayments-settings.settingForm.options.integration.options.iframe")},{id:"payment_page",name:this.$tc("trustpayments-settings.settingForm.options.integration.options.payment_page")}]}},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}});var ut=n("E7bf"),dt=n.n(ut);Shopware.Component.register("sw-trustpayments-settings-icon",{template:dt.a});var pt=n("3bUJ"),mt=n.n(pt);function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=Shopware,gt=yt.Component,_t=yt.Mixin;function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=St(t);if(e){var r=St(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}gt.register("sw-trustpayments-storefront-options",{template:mt.a,name:"TrustPaymentsStorefrontOptions",mixins:[_t.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},z)},computed:{},methods:{checkTextFieldInheritance:function(t){return"string"!=typeof t||t.length<=0},checkBoolFieldInheritance:function(t){return"boolean"!=typeof t}}}),Shopware.Module.register("trustpayments-settings",{type:"plugin",name:"TrustPayments",title:"trustpayments-settings.general.descriptionTextModule",description:"trustpayments-settings.general.descriptionTextModule",color:"#28d8ff",icon:"default-action-settings",version:"1.0.0",targetVersion:"1.0.0",routes:{index:{component:"trustpayments-settings",path:"index",meta:{parentPath:"sw.settings.index",privilege:"trustpayments.viewer"}}},settingsItem:{group:"plugins",to:"trustpayments.settings.index",iconComponent:"sw-trustpayments-settings-icon",backgroundEnabled:!0,privilege:"trustpayments.viewer"}});var Et=Shopware.Classes.ApiService,kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(i,t);var e,n,a,r=Ct(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trustpayments";return It(this,i),r.call(this,t,e,n)}return e=i,(n=[{key:"registerWebHooks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/register-web-hooks");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return Et.handleResponse(t)}))}},{key:"setTrustPaymentsAsSalesChannelPaymentDefault",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/set-trustpayments-as-sales-channel-payment-default");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return Et.handleResponse(t)}))}},{key:"synchronizePaymentMethodConfiguration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getBasicHeaders(),n="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/synchronize-payment-method-configuration");return this.httpClient.post(n,{salesChannelId:t},{headers:e}).then((function(t){return Et.handleResponse(t)}))}},{key:"installOrderDeliveryStates",value:function(){var t=this.getBasicHeaders(),e="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/configuration/install-order-delivery-states");return this.httpClient.post(e,{},{headers:t}).then((function(t){return Et.handleResponse(t)}))}}])&&wt(e.prototype,n),a&&wt(e,a),i}(Et);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=xt(t);if(e){var r=xt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=Shopware.Classes.ApiService,$t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(i,t);var e,n,a,r=At(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trustpayments";return Dt(this,i),r.call(this,t,e,n)}return e=i,(n=[{key:"createRefund",value:function(t,e,n,a){var r=this.getBasicHeaders(),i="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/refund/create-refund/");return this.httpClient.post(i,{salesChannelId:t,transactionId:e,quantity:n,lineItemId:a},{headers:r}).then((function(t){return Lt.handleResponse(t)}))}}])&&Pt(e.prototype,n),a&&Pt(e,a),i}(Lt);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=qt(t);if(e){var r=qt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Vt(this,n)}}function Vt(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zt=Shopware.Classes.ApiService,Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(i,t);var e,n,a,r=Mt(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trustpayments";return jt(this,i),r.call(this,t,e,n)}return e=i,(n=[{key:"getTransactionData",value:function(t,e){var n=this.getBasicHeaders(),a="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-transaction-data/");return this.httpClient.post(a,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return zt.handleResponse(t)}))}},{key:"getInvoiceDocument",value:function(t,e){return"".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-invoice-document/").concat(t,"/").concat(e)}},{key:"getPackingSlip",value:function(t,e){return"".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction/get-packing-slip/").concat(t,"/").concat(e)}}])&&Bt(e.prototype,n),a&&Bt(e,a),i}(zt);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Jt(t);if(e){var r=Jt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Zt(this,n)}}function Zt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=Shopware.Classes.ApiService,te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(i,t);var e,n,a,r=Qt(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trustpayments";return Wt(this,i),r.call(this,t,e,n)}return e=i,(n=[{key:"createTransactionCompletion",value:function(t,e){var n=this.getBasicHeaders(),a="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction-completion/create-transaction-completion/");return this.httpClient.post(a,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return Xt.handleResponse(t)}))}}])&&Ut(e.prototype,n),a&&Ut(e,a),i}(Xt);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ae(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=se(t);if(e){var r=se(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return oe(this,n)}}function oe(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ce=Shopware.Classes.ApiService,le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(i,t);var e,n,a,r=ie(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trustpayments";return ne(this,i),r.call(this,t,e,n)}return e=i,(n=[{key:"createTransactionVoid",value:function(t,e){var n=this.getBasicHeaders(),a="".concat(Shopware.Context.api.apiPath,"/_action/").concat(this.getApiBasePath(),"/transaction-void/create-transaction-void/");return this.httpClient.post(a,{salesChannelId:t,transactionId:e},{headers:n}).then((function(t){return ce.handleResponse(t)}))}}])&&ae(e.prototype,n),a&&ae(e,a),i}(ce),ue=Shopware.Application;ue.addServiceProvider("TrustPaymentsConfigurationService",(function(t){var e=ue.getContainer("init");return new kt(e.httpClient,t.loginService)})),ue.addServiceProvider("TrustPaymentsRefundService",(function(t){var e=ue.getContainer("init");return new $t(e.httpClient,t.loginService)})),ue.addServiceProvider("TrustPaymentsTransactionService",(function(t){var e=ue.getContainer("init");return new Ht(e.httpClient,t.loginService)})),ue.addServiceProvider("TrustPaymentsTransactionCompletionService",(function(t){var e=ue.getContainer("init");return new te(e.httpClient,t.loginService)})),ue.addServiceProvider("TrustPaymentsTransactionVoidService",(function(t){var e=ue.getContainer("init");return new le(e.httpClient,t.loginService)}))},PK50:function(t,e){t.exports='{% block trustpayments_order_action_completion %}\n<sw-modal variant="small"\n\t\t  :title="$tc(`trustpayments-order.modal.title.capture`)"\n\t\t  @modal-close="$emit(\'modal-close\')">\n\n\t{% block trustpayments_order_action_completion_amount %}\n\t\t<sw-checkbox-field\n\t\t\t\t:label="$tc(\'trustpayments-order.captureAction.button.text\')"\n\t\t\t\tv-model="isCompletion"></sw-checkbox-field>\n\t{% endblock %}\n\n\t{% block trustpayments_order_action_completion_confirm_button %}\n\t<template #modal-footer>\n\t\t<sw-button variant="primary"\n\t\t\t\t   @click="completion">\n\t\t\t{{ $tc(\'trustpayments-order.refundAction.confirmButton.text\') }}\n\t\t</sw-button>\n\t</template>\n\t{% endblock %}\n\n\t<sw-loader v-if="isLoading"></sw-loader>\n</sw-modal>\n{% endblock %}\n'},SiIK:function(t,e,n){},VT71:function(t,e,n){},mkIE:function(t,e,n){var a=n("SiIK");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("SZ7m").default)("297abd1c",a,!0,{})},"n4+1":function(t,e){t.exports='{% block sw_order_detail_content_tabs_general %}\n    {% parent %}\n\n<sw-tabs-item v-if="isTrustPaymentsPayment"\n\t\t\t  :route="{ name: \'trustpayments.order.detail\', params: { id: $route.params.id } }"\n\t\t\t  :title="$tc(\'trustpayments-order.header\')">\n\t{{ $tc(\'trustpayments-order.header\') }}\n</sw-tabs-item>\n{% endblock %}\n\n{% block sw_order_detail_actions_slot_smart_bar_actions %}\n<template v-if="isEditable">\n\t{% parent %}\n</template>\n{% endblock %}\n'},twVN:function(t,e,n){var a=n("VT71");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("SZ7m").default)("3f37b74d",a,!0,{})},wsG9:function(t,e){t.exports='{% block trustpayments_settings_content_card_channel_config_credentials %}\n\t<sw-card\n\t\t\tclass="sw-card"\n\t\t\t :title="$tc(\'trustpayments-settings.settingForm.credentials.cardTitle\')"\n\t\t\tv-if="!isShowcase"\n\t>\n\n\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container %}\n\t\t\t<sw-container>\n\n\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings %}\n\t\t\t\t\t<div v-if="actualConfigData" class="trustpayments-settings-credentials-fields">\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_space_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_SPACE_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_SPACE_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_SPACE_ID"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.credentials.spaceId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.credentials.spaceId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="spaceIdErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_user_id %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_USER_ID]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_USER_ID]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-number-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_USER_ID"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.credentials.userId.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.credentials.userId.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="userIdErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-number-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\n\t\t\t\t\t\t{% block trustpayments_settings_content_card_channel_config_credentials_card_container_settings_application_key %}\n\t\t\t\t\t\t\t<sw-inherit-wrapper\n\t\t\t\t\t\t\t\t\tv-model="actualConfigData[CONFIG_APPLICATION_KEY]"\n\t\t\t\t\t\t\t\t\t:inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][CONFIG_APPLICATION_KEY]"\n\t\t\t\t\t\t\t\t\t:customInheritationCheckFunction="checkTextFieldInheritance">\n\t\t\t\t\t\t\t\t<template #content="props">\n\t\t\t\t\t\t\t\t\t<sw-password-field\n\t\t\t\t\t\t\t\t\t\t\t:name="CONFIG_APPLICATION_KEY"\n\t\t\t\t\t\t\t\t\t\t\t:required="true"\n\t\t\t\t\t\t\t\t\t\t\t:passwordToggleAble="true"\n\t\t\t\t\t\t\t\t\t\t\t:mapInheritance="props"\n\t\t\t\t\t\t\t\t\t\t\t:label="$tc(\'trustpayments-settings.settingForm.credentials.applicationKey.label\')"\n\t\t\t\t\t\t\t\t\t\t\t:helpText="$tc(\'trustpayments-settings.settingForm.credentials.applicationKey.tooltipText\')"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="props.isInherited"\n\t\t\t\t\t\t\t\t\t\t\t:value="props.currentValue"\n\t\t\t\t\t\t\t\t\t\t\t:error="applicationKeyErrorState"\n\t\t\t\t\t\t\t\t\t\t\t@change="props.updateCurrentValue">\n\t\t\t\t\t\t\t\t\t</sw-password-field>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</sw-inherit-wrapper>\n\t\t\t\t\t\t{% endblock %}\n\t\t\t\t\t</div>\n\t\t\t\t{% endblock %}\n\t\t\t</sw-container>\n\t\t{% endblock %}\n\t</sw-card>\n\n{% endblock %}\n'}},[["OEWY","runtime","vendors-node"]]]);